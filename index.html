<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TT World - Goa Trip</title>
<style>
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    background: #f6f8fa;
    padding: 0;
  }
  /* HEADER */
  header.tt-header {
    background-color: #007acc;
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 25px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 1100;
  }
  .logo-section { display: flex; align-items: center; gap: 15px; }
  .logo { width: 50px; height: 50px; object-fit: contain; border-radius: 10px; background: white; padding: 5px; }
  .site-title { font-size: 1.6rem; margin: 0; font-weight: 600; letter-spacing: 1px; }
  .hamburger { font-size: 26px; cursor: pointer; padding: 8px 12px; background: #005fa3; color: white; border: none; border-radius: 6px; }
  .sidebar { position: fixed; left: -250px; top: 70px; height: calc(100% - 70px); width: 250px; background: #003a78; color: white; transition: all 0.3s ease; padding-top: 10px; box-shadow: 3px 0 10px rgba(0,0,0,0.2); z-index: 1000; }
  .sidebar.active { left: 0; }
  .sidebar a { display: block; padding: 15px 25px; color: white; text-decoration: none; font-size: 16px; }
  .sidebar a:hover { background: #0056a3; }
  .main { padding: 100px 25px; transition: margin-left 0.3s; }
  .sidebar.active ~ .main { margin-left: 250px; }
  .trip-section { display: flex; justify-content: center; margin-top: 40px; }
  .trip-card { background: white; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); overflow: hidden; width: 260px; transition: transform 0.3s; }
  .trip-card:hover { transform: translateY(-5px); }
  .trip-card img { width: 100%; height: 150px; object-fit: cover; }
  .trip-info { padding: 12px; }
  .trip-info h4 { margin: 0; color: #003a78; }
  .trip-info p { font-size: 0.9rem; color: #333; margin: 5px 0 10px; }
  .book-btn { background: #007acc; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer; }
  .book-btn:hover { background: #005fa3; }
  .popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; width: 320px; padding: 25px; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 2000; }
  .popup.active { display: block; }
  .popup h3 { margin-top: 0; color: #003a78; border-bottom: 2px solid #007acc; padding-bottom: 5px; }
  .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1500; }
  .overlay.active { display: block; }
  .selection-container { max-width: 600px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); overflow: hidden;}
  .trip-banner { width: 100%; height: 220px; border-radius: 12px 12px 0 0; object-fit: cover; }
  .trip-title { text-align: center; background: #007acc; color: white; padding: 12px; font-size: 1.4rem; font-weight: 600; }
  .accordion { background-color: #007acc; color: #fff; cursor: pointer; padding: 14px 20px; width: 100%; text-align: left; border: none; outline: none; transition: 0.3s; font-weight: 500; border-radius: 8px; margin-top: 10px; display: flex; align-items: center; justify-content: space-between;}
  .accordion:hover { background-color: #005f99; }
  .accordion:after { content: '\25BC'; transition: transform 0.3s; }
  .accordion.active:after { transform: rotate(180deg); }
  .panel { background: #f1f8ff; border-radius: 0 0 8px 8px; overflow: hidden; padding: 0 20px; max-height: 0; transition: max-height 0.3s ease-out; }
  .panel.show { max-height: 2000px; transition: max-height 0.5s ease-in; }
  .panel ul { list-style: none; margin: 10px 0; padding: 0; }
  .panel li { padding: 8px 0; border-bottom: 1px solid #ddd; cursor: pointer; user-select: none; }
  .panel li:hover { background-color: #e6f2ff; }
  .panel > ul > li.selected { background-color: #007acc; color: white !important; font-weight: 600; }
  .sublist { margin-left: 20px; padding: 10px; border-radius: 8px; background-color: #e0f2ff; max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
  .sublist.show { max-height: 1500px; transition: max-height 0.5s ease-in; }
  .sub-section { display: none; background: #fff; border-radius: 10px; margin: 10px 0; padding: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);}
  .sub-section img { width: 100%; border-radius: 8px; margin-bottom: 8px;}
  .sub-section h4 { margin: 10px 0 5px; color: #007acc;}
  .summary-box { background: #fff; border-top: 2px solid #007acc; padding: 15px; margin-top: 10px; min-height: 48px;}
  .summary-box h4 { margin: 0 0 8px 0; color: #007acc;}
  #selectedItems { font-size: 0.95rem; color: #333; min-height: 24px; white-space: pre-wrap;}
  .summary-category { font-weight: bold; margin-top: 8px;}
  .summary-item { margin-left: 10px; cursor: pointer; }
  .summary-item:hover { text-decoration: underline; }
  .total { text-align: right; font-weight: 600; color: #333; padding: 8px 15px; border-top: 1px solid #ddd;}
  .button-group { display: flex; justify-content: space-between; margin: 10px 15px; }
  .btn-preview { flex: 1; padding: 12px; font-weight: bold; border-radius: 8px; color: white; text-align: center; cursor: pointer; user-select: none; text-decoration: none; background: #007acc; margin-right: 10px;}
  .btn-preview:hover { background: #005f99; }
  .panel > ul > li.toggle-sublist { font-weight: 700; color: #007acc; cursor: pointer;}
  /* Inputs for pax counts - Improved for mobile */
  .pax-inputs {
    margin: 10px 0 15px 0;
    display: flex;
    justify-content: space-between;
    gap: 15px;
    font-weight: 600;
    flex-wrap: wrap;
  }
  .pax-inputs label {
    display: flex;
    flex-direction: column;
    font-size: 0.9rem;
    color: #003a78;
    flex: 1;
    min-width: 120px;
  }
  .pax-inputs input[type=number] {
    margin-top: 4px;
    padding: 10px 8px;
    border-radius: 6px;
    border: 1px solid #ccc;
    width: 100%;
    font-size: 1rem;
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    background-color: white;
    touch-action: manipulation;
  }
  .pax-inputs input[type=number]:focus {
    outline-color: #007acc;
    border-color: #007acc;
    box-shadow: 0 0 5px rgba(0, 122, 204, 0.3);
  }
  .pax-inputs .input-group {
    display: flex;
    align-items: center;
    margin-top: 4px;
  }
  .pax-inputs .btn-decrement,
  .pax-inputs .btn-increment {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: #007acc;
    color: white;
    border: none;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: manipulation;
  }
  .pax-inputs .btn-decrement:hover,
  .pax-inputs .btn-increment:hover {
    background-color: #005fa3;
  }
  .pax-inputs .number-input {
    flex: 1;
    text-align: center;
    border-left: none;
    border-right: none;
  }
  .pax-inputs .btn-decrement {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }
  .pax-inputs .btn-increment {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }
  .pax-count-display {
    font-weight: 600;
    color: #007acc;
    text-align: center;
    margin-top: 5px;
    font-size: 0.9rem;
  }
  .slider-arrow {
    color: #808080;
    font-size: 1em;
    cursor: pointer;
    background: white;
    padding: 6px 12px;
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
  }
  .slider-arrow.left { left: -18px; }
  .slider-arrow.right { right: -18px; }
  
  /* Transportation styling */
  .transport-option {
    color: #0066cc;
  }
  .transport-option .item-name {
    color: #0066cc;
  }
  .transport-option.selected {
    color: white;
  }
  .transport-option.selected .item-name {
    color: white;
  }
  .car-option {
    padding: 8px 12px;
    margin: 5px 0;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .car-option:hover {
    background-color: #cce7ff;
  }
  .car-option.selected {
    background-color: #007acc;
    color: white;
  }
  .car-selection-hint {
    font-size: 0.85rem;
    color: #666;
    font-style: italic;
    margin-top: 5px;
  }
  .car-price {
    margin-left: 20px;
    font-weight: 600;
  }
  
  /* Mobile-specific styles */
  @media (max-width: 768px) {
    .main {
      padding: 80px 15px;
    }
    .site-title {
      font-size: 1.3rem;
    }
    .logo {
      width: 40px;
      height: 40px;
    }
    .pax-inputs {
      flex-direction: column;
      gap: 10px;
    }
    .pax-inputs label {
      min-width: 100%;
    }
  }
</style>
</head>
<body>
<header class="tt-header">
  <div class="logo-section">
    <button class="hamburger" onclick="toggleSidebar()">‚ò∞</button>
    <img src="./logo.png" alt="TT World Logo" class="logo" />
    <h1 class="site-title">TT WORLD</h1>
  </div>
</header>
<div class="sidebar" id="sidebar">
  <a href="#" onclick="showHome()">üè† Home</a>
  <a href="#" onclick="showTrips()">‚úàÔ∏è Trips</a>
  <a href="#" onclick="openContact()">üìû Contact</a>
</div>
<div class="overlay" id="overlay" onclick="closeContact()"></div>
<div class="popup" id="contactPopup">
  <h3>Contact Information</h3>
  <p><b>Main Office:</b><br>13/1, Arni Road, Vellore, 632001</p>
  <p>üìû +91 95665 96825<br>üìû +91 72000 87875</p>
  <p><b>Email:</b> info@triptotheworld.in</p>
  <p><b>üåê Website:</b> <a href="https://www.triptotheworld.in" target="_blank" rel="noopener noreferrer">www.triptotheworld.in</a></p>
  <button onclick="closeContact()">Close</button>
</div>
<div class="main" id="mainContent">
  <h2>Welcome to TT World üåç</h2>
  <p>Select a section from sidebar to get started.</p>
</div>
<script>
// --- GLOBAL VARIABLES & STATE ---
let selectedItems = [];
let totalAmount = 0;
let daysSelected = 3;
let nightsSelected = 2;
let adultCount = 1;
let childCount = 0;
let currentHotelType = "casaMaria";
let currentHotelImageSlide = 0;
let currentHotelDetailSlide = 0;
let selectedCar = ""; // Track selected car

// --- PRICING & DATA CONSTANTS ---
const PRICES = {
  hotelPerNight: { 
    casaMaria: 1600, 
    mayfieldBoutique: 1900, 
    rivasaResort: 2200 
  },
  transportation: { 
    flight: 5000,
    train: 1000,
    sicTransfer: 500, 
    rentalCarDriver: 800, 
    rentalBike: 500, 
    rentalCar: 500,
    carTransfer: { madagon: 2000, dabolim: 1800, mopa: 1800 }
  },
  sightseeingPackage: { 
    northGoa: 2700, 
    southGoa: 2500, 
    grandIslandFullDay: 1800,
    grandIslandHalfDay: 1200,
    malvanFullDay: 1800,
    malvanHalfDay: 1200,
    dudhsagarWaterfalls: 2000,
    dudhsagarFullDay: 2000
  },
  cruisePackage: { 
    dinnerCruise: 1200,
    casinoBigDaddyy: 4000
  },
  otherActivities: {
    dinnerCruise: 1200,
    dudhsagarFullDay: 2000,
    casinoBigDaddyy: 4000
  }
};

const hotelImages = {
  casaMaria: ["https://r1imghtlak.mmtcdn.com/1493b06f-8b80-43af-ac8d-29ab83522822.jpeg", "https://r1imghtlak.mmtcdn.com/7f4ba584-3f7d-449c-bb8c-ab87e91736f9.jpg","https://r1imghtlak.mmtcdn.com/988e53ce-e929-4fd4-8ef5-9f0f5eac8b6c.jpg","https://r1imghtlak.mmtcdn.com/901e32c7-2656-4ba0-9f11-139c685366bc.jpeg",
  "https://r1imghtlak.mmtcdn.com/b9a47daf-613b-407c-ac85-213f44d49e82.jpg","https://r1imghtlak.mmtcdn.com/1bb89522-71a1-42c2-b099-c10f27753618.jpg","https://r1imghtlak.mmtcdn.com/81c1c79f-e8dc-48b5-8f38-db58ee5088e5.jpg"],
  mayfieldBoutique: ["https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/htl-imgs/202103240931205880-181d433c-7fbe-4515-b442-3d2eb24a898c.jpg", "https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/htl-imgs/202103240931205880-dfb50fef-b380-4234-818e-3032d0b62e20.jpg","https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/htl-imgs/202103240931205880-c233f8f1-4a84-4bca-bba0-aa8749cf220a.jpg",
  "https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/htl-imgs/202103240931205880-04d18f8c-60c5-4351-9bcd-512ae3280d0f.jpg","https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/room-imgs/202103240931205880-8085766-e3af4151-5ebe-49f3-964c-44dcd3fc01ab.jpg","https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/room-imgs/202103240931205880-1eedcff2-ce4d-46dd-a6aa-91025774b732.jpg","https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/room-imgs/202103240931205880-208261-beb31df8-8167-422b-9e1d-578d1c40e4d8.jpg","https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/room-imgs/202103240931205880-13846-d432c4469f7011eb9e0c0242ac110002.jpg","https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/room-imgs/202103240931205880-40899-7cae5e489f6f11eba2670242ac110002.jpg"],
  rivasaResort: ["https://r1imghtlak.mmtcdn.com/05cc19bea00011eb9ea40242ac110002.jpg", "https://r1imghtlak.mmtcdn.com/5fab601a883611e7b2b3025f77df004f.jpg","https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/htl-imgs/200710170911208196-74265f8f-8f03-4314-9d2b-af5de9dceb65.jpg","https://r1imghtlak.mmtcdn.com/de5a1912ef1611e9bcef0242ac110003.jpg","https://r1imghtlak.mmtcdn.com/700361a9-9a3e-458d-bab0-0f36a828b5d1.jpeg",
  "https://r1imghtlak.mmtcdn.com/7c6a18f1-a2cb-4f71-b895-5cd51a236444.jpg","https://r1imghtlak.mmtcdn.com/6a98651c59c311e99b810242ac110002.png","https://r1imghtlak.mmtcdn.com/a4030424-e52b-489c-8d8d-ccc89a1f2377.jpeg","https://r1imghtlak.mmtcdn.com/6a98651c59c311e99b810242ac110002.png","https://r2imghtlak.mmtcdn.com/r2-mmt-htl-image/room-imgs/200710170911208196-6594-a444ff53-81fe-494e-a27f-f3faeecf64a3.jpg",
  "https://r1imghtlak.mmtcdn.com/c83c9520a01711eba0200242ac110002.jpg","https://r1imghtlak.mmtcdn.com/a9c97bb0-c558-4794-989d-a50b196a6c8a.jpg","https://r1imghtlak.mmtcdn.com/b72dca6c59c211e98bf40242ac110002.jpg","https://r1imghtlak.mmtcdn.com/6f974249-3923-4f11-9bc1-f8b1c4f6e4f1.jpg"]
};

const hotelDetailsMap = {
  casaMaria: { 
    img: hotelImages.casaMaria[0], 
    title: "Casa Maria", 
    desc: "A comfortable hotel offering basic amenities, A/C, Wi-Fi, and complimentary breakfast. Ideal for budget-conscious travelers.", 
    location: "Central Panaji, near bus station" 
  },
  mayfieldBoutique: { 
    img: hotelImages.mayfieldBoutique[0], 
    title: "Mayfield Boutique", 
    desc: "Boutique rooms feature additional space, modern furnishings, premium linen, a work desk, and a balcony with garden or pool view.", 
    location: "Close to Baga Beach and local markets" 
  },
  rivasaResort: { 
    img: hotelImages.rivasaResort[0], 
    title: "Rivasa Resort", 
    desc: "All-access resort stay with private beach, large pool, spa, multiple dining options, and every comfort you need for a relaxing getaway.", 
    location: "Exclusive stretch in South Goa" 
  }
};

// --- CORE UTILITY FUNCTIONS ---
function formatPrice(val) { return `‚Çπ${val.toLocaleString('en-IN')}`; }
function toggleSidebar() { document.getElementById("sidebar").classList.toggle("active"); }
function showHome() { document.getElementById("mainContent").innerHTML = "<h2>Welcome to TT World üåç</h2><p>Discover amazing trips!</p>"; document.getElementById("sidebar").classList.remove("active"); }
function openContact() { document.getElementById("contactPopup").classList.add("active"); document.getElementById("overlay").classList.add("active"); document.getElementById("sidebar").classList.remove("active"); }
function closeContact() { document.getElementById("contactPopup").classList.remove("active"); document.getElementById("overlay").classList.remove("active"); }

// --- TRIP LOADING & DYNAMIC CONTENT ---
function showTrips() {
  document.getElementById("mainContent").innerHTML = `
    <h2>Explore Our Tour Packages ‚úàÔ∏è</h2>
    <div class='trip-section'>
      <div class='trip-card'>
        <img src='https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=60' alt='Goa Beach'/>
        <div class='trip-info'>
          <h4>Goa Beach Getaway</h4>
          <p>Enjoy sunny beaches, nightlife, and heritage.</p>
          <button class='book-btn' onclick='loadGoaSelection()'>View Details</button>
        </div>
      </div>
    </div>
  `;
  document.getElementById("sidebar").classList.remove("active");
}

function loadGoaSelection() {
  document.getElementById("mainContent").innerHTML = `
    <div class="selection-container" id="selectionContainer">
      <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=60" alt="Goa Beach" class="trip-banner" />
      <div class="trip-title">Goa Trip</div>
      <button class="accordion">Days / Nights</button>
      <div class="panel"><ul id="daysList"><li data-days="3" data-nights="2">2 Nights / 3 Days</li><li data-days="4" data-nights="3">3 Nights / 4 Days</li><li data-days="5" data-nights="4">4 Nights / 5 Days</li></ul></div>
      <button class="accordion">Passengers</button>
      <div class="panel">
        <div class="pax-inputs" id="paxInputs">
          <label for="adultCount">
            Adults:
            <div class="input-group">
              <button class="btn-decrement" onclick="decrementAdult()">-</button>
              <input type="number" id="adultCount" min="1" max="10" value="1" class="number-input" />
              <button class="btn-increment" onclick="incrementAdult()">+</button>
            </div>
            <div class="pax-count-display" id="adultDisplay">1 Adult</div>
          </label>
          <label for="childCount">
            Children:
            <div class="input-group">
              <button class="btn-decrement" onclick="decrementChild()">-</button>
              <input type="number" id="childCount" min="0" max="10" value="0" class="number-input" />
              <button class="btn-increment" onclick="incrementChild()">+</button>
            </div>
            <div class="pax-count-display" id="childDisplay">0 Children</div>
          </label>
        </div>
      </div>
      <button class="accordion">Transportation</button>
      <div class="panel">
        <ul>
          <li class="transport-option" data-key="flight" data-base-price="5000" data-category="Transportation" data-per-day="false"><span class="item-name">Flight (Approx)</span><span class="item-price" style="margin-left:20px;">‚Çπ5000</span></li>
          <li class="transport-option" data-key="train" data-base-price="1000" data-category="Transportation" data-per-day="false"><span class="item-name">Train (Approx)</span><span class="item-price" style="margin-left:20px;">‚Çπ1000</span></li>
          <li class="toggle-sublist" data-category="Transportation" data-key="carTransfer">
            <span class="item-name">Pickup & Drop</span>
            <span class="car-price" id="carPriceDisplay"></span>
            <div class="car-selection-hint">Click to select a car</div>
          </li>
          <ul class="sublist">
            <li class="car-option" data-car="madagon car" data-price="2000">Madagon car</li>
            <li class="car-option" data-car="dabolim car" data-price="1800">Dabolim car</li>
            <li class="car-option" data-car="mopa car" data-price="1800">MOPA car</li>
          </ul>
          <li class="transport-option" data-key="sicTransfer" data-base-price="500" data-category="Transportation" data-per-day="false"><span class="item-name">SIC basis transfer</span><span class="item-price" style="margin-left:20px;">‚Çπ500</span></li>
          <li class="transport-option" data-key="rentalCarDriver" data-base-price="800" data-category="Transportation" data-per-day="true"><span class="item-name">Rental car with driver</span><span class="item-price" style="margin-left:20px;">‚Çπ0</span></li>
          <li class="transport-option" data-key="rentalBike" data-base-price="500" data-category="Transportation" data-per-day="true"><span class="item-name">Rental bike</span><span class="item-price" style="margin-left:20px;">‚Çπ0</span></li>
          <li class="transport-option" data-key="rentalCar" data-base-price="500" data-category="Transportation" data-per-day="true"><span class="item-name">Rental car</span><span class="item-price" style="margin-left:20px;">‚Çπ0</span></li>
        </ul>
      </div>
      <button class="accordion">Hotel</button>
      <div class="panel">
        <ul>
          <li class="hotel-option" data-price="1600" data-type="casaMaria" data-category="Hotel"><span class="item-name">Casa Maria</span><span class="item-price" style="margin-left: 20px;">‚Çπ1600</span></li>
          <li class="hotel-option" data-price="1900" data-type="mayfieldBoutique" data-category="Hotel"><span class="item-name">Mayfield Boutique</span><span class="item-price" style="margin-left: 20px;">‚Çπ1900</span></li>
          <li class="hotel-option" data-price="2200" data-type="rivasaResort" data-category="Hotel"><span class="item-name">Rivasa Resort</span><span class="item-price" style="margin-left: 20px;">‚Çπ2200</span></li>
        </ul>
        <div id="hotelDetails" class="sub-section" style="text-align:center; margin-top:10px; display:none;"></div>
      </div>
      <button class="accordion">Sightseeing</button>
      <div class="panel">
        <ul>
          <li class="toggle-sublist" data-category="Sightseeing" data-package="northGoa"><span class="item-name">North Goa Tour</span><span class="item-price" style="margin-left:20px;">‚Çπ2700</span></li>
          <ul class="sublist">
            <li>Fort Aguada</li><li>Saligao Church</li><li>Sinquirim Beach</li><li>Baga Beach</li><li>Old Goa Church</li><li>Anjuna Beach</li><li>Vagator Beach</li><li>Aguada</li>
          </ul>
          <li class="toggle-sublist" data-category="Sightseeing" data-package="southGoa"><span class="item-name">South Goa Tour</span><span class="item-price" style="margin-left:20px;">‚Çπ2500</span></li>
          <ul class="sublist">
            <li>Miramar Beach</li><li>Tirupathi Balaji Temple</li><li>Se Cathedral Church</li><li>Old Goa Church</li><li>Dolphin Sightseeing</li><li>Mangeshi Temple</li><li>Boat Cruise at Mandovi River</li>
          </ul>
          <li class="toggle-sublist" data-category="Sightseeing" data-package="grandIslandFullDay"><span class="item-name">Grand Island Full Day Adventure Trip</span><span class="item-price" style="margin-left:20px;">‚Çπ1800</span></li>
          <ul class="sublist">
            <li>Scuba Diving</li><li>Jet Ski</li><li>Banana Boat</li><li>Bumper Ride</li><li>Snorkeling</li><li>Parasailing</li><li>Speed Boat Ride</li>
          </ul>
          <li class="toggle-sublist" data-category="Sightseeing" data-package="grandIslandHalfDay"><span class="item-name">Grand Island Half Day Adventure Trip</span><span class="item-price" style="margin-left:20px;">‚Çπ1200</span></li>
          <ul class="sublist">
            <li>Scuba Diving</li><li>Jet Ski</li><li>Banana Boat</li><li>Bumper Ride</li><li>Snorkeling</li><li>Parasailing</li><li>Speed Boat Ride</li>
          </ul>
          <li class="toggle-sublist" data-category="Sightseeing" data-package="malvanFullDay"><span class="item-name">Malvan Full Day Adventure Trip</span><span class="item-price" style="margin-left:20px;">‚Çπ1800</span></li>
          <ul class="sublist">
            <li>Elephant Bath</li><li>Spice Plantation</li><li>Butterfly Conservatory</li><li>Old Goa Churches</li><li>Dudhsagar Waterfalls</li>
          </ul>
          <li class="toggle-sublist" data-category="Sightseeing" data-package="malvanHalfDay"><span class="item-name">Malvan Half Day Adventure Trip</span><span class="item-price" style="margin-left:20px;">‚Çπ1200</span></li>
          <ul class="sublist">
            <li>Elephant Bath</li><li>Spice Plantation</li><li>Butterfly Conservatory</li><li>Old Goa Churches</li><li>Dudhsagar Waterfalls</li>
          </ul>
          <li class="toggle-sublist" data-category="Sightseeing" data-package="dudhsagarWaterfalls"><span class="item-name">Dudhsagar Waterfalls</span><span class="item-price" style="margin-left:20px;">‚Çπ2000</span></li>
        </ul>
      </div>
      <button class="accordion">Otheractivities</button>
      <div class="panel">
        <ul>
          <li class="toggle-sublist" data-category="Other Activities" data-package="dinnerCruise"><span class="item-name">Dinner Cruise</span><span class="item-price" style="margin-left:20px;">‚Çπ1200</span></li>
          <li class="toggle-sublist" data-category="Other Activities" data-package="dudhsagarFullDay"><span class="item-name">Doodhsagar Full Day Trip</span><span class="item-price" style="margin-left:20px;">‚Çπ2000</span></li>
          <li class="toggle-sublist" data-category="Other Activities" data-package="casinoBigDaddyy"><span class="item-name">Casino at Big Daddyy</span><span class="item-price" style="margin-left:20px;">‚Çπ4000</span></li>
        </ul>
      </div>
      <button class="accordion">Food</button>
      <div class="panel">
        <ul>
          <li class="food-option" data-type="breakfast" data-category="Food" data-price="0"><span class="item-name">Breakfast Included</span></li>
        </ul>
      </div>
      <div class="summary-box"><h4>Selected Items:</h4><div id="selectedItems">None</div></div>
      <div class="total" id="totalAmount">Grand Total: ‚Çπ0</div>
      <div class="button-group"><a href="#" id="previewBtn" class="btn-preview">üîç Preview</a></div>
    </div>
  `;
  initializeEventListeners();
  // Initialize prices after loading
  setTimeout(() => {
    updateDynamicPrices();
  }, 100);
}

// --- PASSENGER COUNT FUNCTIONS ---
function incrementAdult() {
  const input = document.getElementById("adultCount");
  const value = parseInt(input.value) || 0;
  if (value < 10) {
    input.value = value + 1;
    onPaxChanged();
  }
}

function decrementAdult() {
  const input = document.getElementById("adultCount");
  const value = parseInt(input.value) || 0;
  if (value > 1) {
    input.value = value - 1;
    onPaxChanged();
  }
}

function incrementChild() {
  const input = document.getElementById("childCount");
  const value = parseInt(input.value) || 0;
  if (value < 10) {
    input.value = value + 1;
    onPaxChanged();
  }
}

function decrementChild() {
  const input = document.getElementById("childCount");
  const value = parseInt(input.value) || 0;
  if (value > 0) {
    input.value = value - 1;
    onPaxChanged();
  }
}

// --- EVENT HANDLING & LOGIC ---
function initializeEventListeners() {
  const acc = document.getElementsByClassName("accordion");
  for (let i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
      for (let j = 0; j < acc.length; j++) { if (j !== i) { acc[j].classList.remove("active"); acc[j].nextElementSibling.classList.remove("show"); } }
      this.classList.toggle("active"); this.nextElementSibling.classList.toggle("show");
    });
  }

  document.querySelectorAll(".panel li.toggle-sublist").forEach(title => {
    title.addEventListener("click", (e) => {
      e.stopPropagation();
      
      // Special handling for car transfer toggle
      if (title.getAttribute('data-key') === 'carTransfer') {
        const isAlreadySelected = title.classList.contains("selected");
        
        if (isAlreadySelected) {
          // Unselect car transfer
          unselectCar();
        } else {
          // Just expand/collapse sublist normally
          const siblingList = title.nextElementSibling;
          if (siblingList && siblingList.classList.contains('sublist')) {
            siblingList.classList.toggle("show");
          }
        }
      } else {
        // Normal toggle behavior for other items
        const siblingList = title.nextElementSibling;
        if (siblingList && siblingList.classList.contains('sublist')) {
          siblingList.classList.toggle("show");
        }
      }
    });
  });

  // Add event listeners for car options
  document.querySelectorAll(".car-option").forEach(option => {
    option.addEventListener("click", (e) => {
      e.stopPropagation();
      selectCar(option);
    });
  });

  document.querySelectorAll("#daysList li").forEach(dayLi => { 
    dayLi.addEventListener("click", () => onDaysSelected(dayLi)); 
  });
  // Removed default selection for days/nights

  // Multiple event listeners for passenger count to ensure mobile compatibility
  const adultInput = document.getElementById("adultCount");
  const childInput = document.getElementById("childCount");
  
  if (adultInput) {
    adultInput.addEventListener("input", onPaxChanged);
    adultInput.addEventListener("change", onPaxChanged);
    adultInput.addEventListener("blur", onPaxChanged);
    adultInput.addEventListener("touchend", onPaxChanged);
  }
  
  if (childInput) {
    childInput.addEventListener("input", onPaxChanged);
    childInput.addEventListener("change", onPaxChanged);
    childInput.addEventListener("blur", onPaxChanged);
    childInput.addEventListener("touchend", onPaxChanged);
  }

  // Add event listeners for all clickable items including food
  document.querySelectorAll(".panel li").forEach(item => {
    if (item.closest("#daysList")) return;
    item.addEventListener("click", e => { 
      e.stopPropagation(); 
      handleItemClick(item); 
    });
  });

  const previewBtn = document.getElementById("previewBtn");
  if (previewBtn) {
    previewBtn.addEventListener("click", (e) => { e.preventDefault(); generatePreview(); });
  }
}

// Function to unselect car
function unselectCar() {
  // Clear all car selections
  document.querySelectorAll(".car-option").forEach(opt => {
    opt.classList.remove("selected");
  });
  
  // Reset selected car
  selectedCar = "";
  
  // Remove car transfer from selected items
  selectedItems = selectedItems.filter(item => item.key !== "carTransfer");
  
  // Reset parent list item
  const carLi = document.querySelector('[data-key="carTransfer"]');
  if (carLi) {
    carLi.classList.remove("selected");
    document.getElementById("carPriceDisplay").textContent = "";
    // Show hint text
    const hint = carLi.querySelector(".car-selection-hint");
    if (hint) hint.style.display = "block";
  }
  
  updateSummary();
}

// Handle car selection
function selectCar(option) {
  // Clear previous selection
  document.querySelectorAll(".car-option").forEach(opt => {
    opt.classList.remove("selected");
  });
  
  // Mark current selection
  option.classList.add("selected");
  
  // Get car details
  const car = option.getAttribute("data-car");
  const basePrice = parseInt(option.getAttribute("data-price"));
  
  // Update selected car
  selectedCar = car;
  
  // Remove previous car transfer from selected items if exists
  selectedItems = selectedItems.filter(item => item.key !== "carTransfer");
  
  // Calculate price based on adults
  const price = basePrice * adultCount;
  
  // Add to selected items
  selectedItems.push({
    name: `Pickup & Drop (${car.charAt(0).toUpperCase() + car.slice(1)})`,
    price: price,
    category: "Transportation",
    key: "carTransfer",
    type: car
  });
  
  // Update parent list item to show selected
  const parentLi = option.closest(".sublist").previousElementSibling;
  if (parentLi) {
    parentLi.classList.add("selected");
    document.getElementById("carPriceDisplay").textContent = formatPrice(price);
    // Hide hint text
    const hint = parentLi.querySelector(".car-selection-hint");
    if (hint) hint.style.display = "none";
  }
  
  updateSummary();
}

function onDaysSelected(li) {
  daysSelected = parseInt(li.dataset.days); nightsSelected = parseInt(li.dataset.nights);
  document.querySelectorAll("#daysList li").forEach(d => d.classList.remove("selected"));
  li.classList.add("selected");
  clearSelectionsExceptDaysAndPax();
  updateDynamicPrices();
  updateSummary();
}

function onPaxChanged() {
  const adultInput = document.getElementById("adultCount");
  const childInput = document.getElementById("childCount");
  adultCount = Math.max(1, parseInt(adultInput.value) || 1);
  childCount = Math.max(0, parseInt(childInput.value) || 0);
  adultInput.value = adultCount; 
  childInput.value = childCount;
  
  // Update display text
  const adultDisplay = document.getElementById("adultDisplay");
  const childDisplay = document.getElementById("childDisplay");
  if (adultDisplay) adultDisplay.textContent = `${adultCount} Adult${adultCount > 1 ? 's' : ''}`;
  if (childDisplay) childDisplay.textContent = `${childCount} Child${childCount !== 1 ? 'ren' : ''}`;
  
  updateDynamicPrices();
  
  // Update hotel price if a hotel is selected
  const hotelItem = selectedItems.find(item => item.category === "Hotel");
  if (hotelItem) {
    const perPersonPrice = PRICES.hotelPerNight[hotelItem.type];
    hotelItem.price = perPersonPrice * adultCount * nightsSelected;
    hotelItem.perPersonPrice = perPersonPrice;
  }
  
  // Update car transfer price if selected
  if (selectedCar) {
    const carOption = document.querySelector(`.car-option[data-car="${selectedCar}"]`);
    if (carOption) {
      selectCar(carOption);
    }
  }
  
  updateSummary();
}

function handleItemClick(item) {
  const nameSpan = item.querySelector('.item-name');
  const itemName = nameSpan ? nameSpan.textContent.trim() : item.textContent.trim();
  
  const itemPrice = Number(item.getAttribute("data-price")) || 0;
  const category = item.getAttribute("data-category") || "Others";
  const isHotel = item.classList.contains("hotel-option");
  const isTransport = item.classList.contains("transport-option");
  const isFood = item.classList.contains("food-option");
  const isSightseeing = item.classList.contains("toggle-sublist") && item.getAttribute("data-category") === "Sightseeing";
  const isOtherActivity = item.classList.contains("toggle-sublist") && item.getAttribute("data-category") === "Other Activities";
  const perDayTransport = isTransport && item.getAttribute("data-per-day") === "true";
  const type = item.getAttribute("data-type") || item.getAttribute("data-package");

  if (item.classList.contains("selected")) {
    // If clicking on an already selected item, unselect it
    item.classList.remove("selected");
    selectedItems = selectedItems.filter(i => i.name !== itemName);
    if (isHotel) document.getElementById("hotelDetails").style.display = "none";
  } else {
    // For hotel, only allow one selection at a time
    if (isHotel) { 
      document.querySelectorAll('.hotel-option.selected').forEach(el => el.classList.remove('selected')); 
      selectedItems = selectedItems.filter(i => i.category !== "Hotel"); 
      
      // Calculate total hotel price for adults only for now
      const perPersonPrice = PRICES.hotelPerNight[type];
      const totalHotelPrice = perPersonPrice * adultCount * nightsSelected;
      
      // Add to selected items with calculated total price
      selectedItems.push({ 
        name: itemName, 
        price: totalHotelPrice, 
        category: category, 
        type: type,
        perPersonPrice: perPersonPrice
      });
    }
    
    // For food option, toggle selection
    if (isFood) {
      item.classList.add("selected");
      selectedItems = selectedItems.filter(i => i.category !== "Food");
      selectedItems.push({ name: itemName, price: 0, category: category, type: type });
    } else if (!isHotel) {
      item.classList.add("selected");
      selectedItems = selectedItems.filter(i => i.name !== itemName);
      selectedItems.push({ name: itemName, price: itemPrice, category: category, perDay: perDayTransport, type: type });
    }
  }

  if (isHotel) {
    item.classList.add("selected");
    showHotelDetails(type);
  }
  updateSummary();
}

// --- DYNAMIC UI UPDATES ---
function updateDynamicPrices() {
  // Update hotel prices based on adults and nights
  document.querySelectorAll(".hotel-option").forEach(el => {
    const type = el.getAttribute("data-type");
    if (type && PRICES.hotelPerNight[type]) {
      // Calculate total price for all adults for all nights
      const perPersonPrice = PRICES.hotelPerNight[type];
      const totalPrice = perPersonPrice * adultCount * nightsSelected;
      el.setAttribute("data-price", totalPrice); 
      const priceSpan = el.querySelector(".item-price");
      if (priceSpan) {
        // Keep showing base price in the display, not the total
        priceSpan.textContent = formatPrice(PRICES.hotelPerNight[type]);
      }
    }
  });

  document.querySelectorAll(".transport-option").forEach(el => {
    const key = el.getAttribute("data-key");
    const basePrice = Number(el.getAttribute("data-base-price"));
    const perDay = el.getAttribute("data-per-day") === "true";
    
    let price;
    if (key === "flight" || key === "train") {
      // For flight and train, calculate based on adults and children
      price = basePrice * adultCount + Math.floor(basePrice * 0.5) * childCount;
    } else if (perDay) {
      // For per-day options
      price = (basePrice * adultCount + Math.floor(basePrice / 2) * childCount) * daysSelected;
    } else {
      // For one-time options
      price = basePrice;
    }
    
    el.setAttribute("data-price", price); 
    const priceSpan = el.querySelector(".item-price");
    if (priceSpan) {
      priceSpan.textContent = formatPrice(price);
    }
  });

  document.querySelectorAll('[data-category="Sightseeing"]').forEach(el => {
    const packageKey = el.getAttribute('data-package');
    if (packageKey && PRICES.sightseeingPackage[packageKey]) {
      const price = PRICES.sightseeingPackage[packageKey] * (adultCount + (childCount * 0.5));
      el.setAttribute("data-price", Math.round(price));
      const priceSpan = el.querySelector(".item-price");
      if (priceSpan) {
        priceSpan.textContent = formatPrice(Math.round(price));
      }
    }
  });

  document.querySelectorAll('[data-category="Other Activities"]').forEach(el => {
    const packageKey = el.getAttribute('data-package');
    if (packageKey && PRICES.otherActivities[packageKey]) {
      const price = PRICES.otherActivities[packageKey] * (adultCount + (childCount * 0.5));
      el.setAttribute("data-price", Math.round(price));
      const priceSpan = el.querySelector(".item-price");
      if (priceSpan) {
        priceSpan.textContent = formatPrice(Math.round(price));
      }
    }
  });
}

function updateSummary() {
  if (selectedItems.length === 0) {
    document.getElementById("selectedItems").innerHTML = "None";
    document.getElementById("totalAmount").textContent = "Grand Total: ‚Çπ0"; totalAmount = 0; return;
  }
  const categories = {}; totalAmount = 0;
  selectedItems.forEach(item => { if (!categories[item.category]) categories[item.category] = []; categories[item.category].push(item); });
  let html = "";
  
  // Add trip duration to summary
  html += `<div class="summary-category">Trip Duration</div>`;
  html += `<div class="summary-item">${daysSelected} Days / ${nightsSelected} Nights</div>`;
  
  // Add passenger count to summary
  html += `<div class="summary-category">Passengers</div>`;
  html += `<div class="summary-item">${adultCount} Adult${adultCount > 1 ? 's' : ''}${childCount > 0 ? ', ' + childCount + ' Child' + (childCount > 1 ? 'ren' : '') : ''}</div>`;
  
  for (const category in categories) {
    html += `<div class="summary-category">${category}</div>`;
    categories[category].forEach(item => {
      let line = `${item.name}`;
      if (item.price > 0) {
        // For hotel, show per person rate and total
        if (category === "Hotel" && item.perPersonPrice) {
          line += ` (${formatPrice(item.perPersonPrice)} √ó ${adultCount} adults √ó ${nightsSelected} nights = ${formatPrice(item.price)})`;
        } else {
          line += ` (${formatPrice(item.price)})`;
        }
      }
      html += `<div class="summary-item" data-category="${item.category}" data-type="${item.type}">${line}</div>`;
      totalAmount += item.price;
    });
  }
  document.getElementById("selectedItems").innerHTML = html;
  document.getElementById("totalAmount").textContent = `Grand Total: ${formatPrice(totalAmount)}`;

  document.querySelectorAll('.summary-item').forEach(item => {
    item.addEventListener('click', () => {
      const category = item.dataset.category;
      const type = item.dataset.type;
      if (category === 'Hotel') showHotelDetails(type);
      if (category === 'Transportation' || category === 'Sightseeing' || category === 'Cruise' || category === 'Other Activities') {
        const accordion = [...document.querySelectorAll('.accordion')].find(acc => acc.textContent.toLowerCase().includes(category.toLowerCase()));
        if (accordion) {
          accordion.click();
          accordion.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }
    });
  });
}

function clearSelectionsExceptDaysAndPax() {
  document.querySelectorAll('.panel li.selected').forEach(el => { if (!el.closest("#daysList")) el.classList.remove('selected'); });
  selectedItems = [];
  selectedCar = "";
  
  // Reset car selection hint
  const carLi = document.querySelector('[data-key="carTransfer"]');
  if (carLi) {
    carLi.classList.remove("selected");
    document.getElementById("carPriceDisplay").textContent = "";
    const hint = carLi.querySelector(".car-selection-hint");
    if (hint) hint.style.display = "block";
  }
}

// --- DETAIL DISPLAY FUNCTIONS ---
function showHotelDetails(hotelType) {
  const detailsDiv = document.getElementById("hotelDetails");
  if (!hotelDetailsMap[hotelType]) return;
  currentHotelType = hotelType; currentHotelImageSlide = 0; currentHotelDetailSlide = 0;
  detailsDiv.style.display = "block";
  detailsDiv.innerHTML = `
    <div class="hotel-image-slider" style="position:relative;">
      <span class="slider-arrow left" onclick="prevHotelImageSlide()">&lt;</span>
      <img id="hotelImg" src="${hotelImages[hotelType][0]}" style="width:100%;border-radius:8px;display:block;margin-bottom:8px;">
      <span class="slider-arrow right" onclick="nextHotelImageSlide()">&gt;</span>
    </div>
    <div class="hotel-details-slider" style="position:relative;margin-top:4px;">
      <span class="slider-arrow left" onclick="prevHotelDetailSlide()">&lt;</span>
      <div id="hotelDetailSlideContent"></div>
      <span class="slider-arrow right" onclick="nextHotelDetailSlide()">&gt;</span>
    </div>
  `;
  renderHotelDetailSlide();
}

function renderHotelDetailSlide() {
  const data = hotelDetailsMap[currentHotelType];
  let html = currentHotelDetailSlide === 0
    ? `<h4 style="color:#003a78;">${data.title} Details</h4><p>${data.desc}</p>`
    : `<h4 style="color:#003a78;">Location</h4><p>${data.location}</p>`;
  document.getElementById("hotelDetailSlideContent").innerHTML = html;
}

function prevHotelImageSlide() { const images = hotelImages[currentHotelType] || []; if (images.length === 0) return; currentHotelImageSlide = (currentHotelImageSlide - 1 + images.length) % images.length; document.getElementById("hotelImg").src = images[currentHotelImageSlide]; }
function nextHotelImageSlide() { const images = hotelImages[currentHotelType] || []; if (images.length === 0) return; currentHotelImageSlide = (currentHotelImageSlide + 1) % images.length; document.getElementById("hotelImg").src = images[currentHotelImageSlide]; }
function prevHotelDetailSlide() { currentHotelDetailSlide = (currentHotelDetailSlide === 0) ? 1 : 0; renderHotelDetailSlide(); }
function nextHotelDetailSlide() { currentHotelDetailSlide = (currentHotelDetailSlide === 1) ? 0 : 1; renderHotelDetailSlide(); }

// --- PREVIEW GENERATION ---
function generatePreview() {
  const summaryHTML = document.getElementById("selectedItems").innerHTML;
  const totalText = document.getElementById("totalAmount").innerText;
  const previewWindow = window.open('', '', 'width=900,height=1200');

  let tableRows = '';
  
  if (summaryHTML.trim() === "" || summaryHTML.trim() === "None") {
    tableRows = "<p>No items selected.</p>";
  } else {
    const tempDiv = document.createElement('div');
    tempDiv.innerHTML = summaryHTML;
    let rows = [];
    let currentCat = '';
    
    tempDiv.childNodes.forEach(node => {
      if (node.classList && node.classList.contains('summary-category')) {
        currentCat = node.innerText;
      } else if (node.classList && node.classList.contains('summary-item')) {
        let nameText = node.innerText;
        let [name, price] = nameText.split(' (‚Çπ');
        price = price ? "‚Çπ" + price.replace(")", "") : "-";
        rows.push({category: currentCat, name: name, price: price});
      }
    });
    
    if(rows.length > 0) {
      tableRows = '<table id="previewTable"><thead><tr><th>Category</th><th>Item</th><th>Price</th></tr></thead><tbody>';
      rows.forEach(row => {
        tableRows += `<tr><td>${row.category || ''}</td><td>${row.name || ''}</td><td>${row.price || '-'}</td></tr>`;
      });
      tableRows += '</tbody></table>';
    }
  }

  previewWindow.document.write(`
<!DOCTYPE html>
<html>
<head>
<title>TT World - Trip Costs</title>
<style>
body{font-family:"Poppins",sans-serif;margin:0;padding:20px 40px;background:#fff;color:#222;line-height:1.4}
.top-header{background:#181e39;color:#fff;padding:35px 0 20px 0;position:relative;text-align:center;margin-bottom:30px;border-radius:8px}
.top-header .brand{font-size:2.4rem;font-weight:bold;color:#ffe128;letter-spacing:2px;display:block}
.top-header .subtitle{color:#ffe128;font-size:1.1rem;margin-top:6px;margin-bottom:30px;letter-spacing:1px;font-style:italic}
.top-header .section-icons{margin-bottom:15px}
.top-header .section-icons span{background:#ffe128;color:#222;border-radius:6px;margin:0 10px;padding:6px 16px;font-size:1rem;font-weight:500;display:inline-block}
.top-header .contacts{font-size:1rem;margin:10px 0 0;color:#fff}
.top-header .contacts span{margin:0 20px}
.top-header .address{margin-top:7px;font-size:0.92rem;color:#cfcfcf}
.yellow-bar{width:100%;background:#ffe128;padding:18px 0;text-align:center;margin:0 0 20px 0;border-radius:8px}
.yellow-bar span{font-size:2rem;font-weight:bold;color:#222;letter-spacing:2px}
.selected-list{max-width:700px;margin:0 auto;border:2px solid #007acc;border-radius:10px;padding:20px;background:#f9faff}
.selected-list h3{margin-bottom:15px;font-size:1.5rem;color:#007acc;text-align:center}
.selected-list table{width:100%;border-collapse:collapse;font-size:1.1rem}
.selected-list th,.selected-list td{padding:10px 12px;border-bottom:1px solid #ddd;text-align:left}
.selected-list th{background:#e0e9f8;color:#222;font-weight:600;border-bottom:3px solid #007acc}
.total-row{font-weight:bold;color:#111;font-size:1.3rem;text-align:right;border-top:3px solid #007acc;padding-top:15px}
.footer{margin-top:60px;text-align:center;color:#111;font-size:1rem;font-weight:600}
</style>
</head>
<body>
  <div class="top-header"><span class="brand">TT World</span><div class="subtitle">Trip to the world</div><div class="section-icons"><span>Tour Packages</span><span>Flight Booking</span><span>Train Booking</span><span>Visa Services</span></div><div class="contacts"><span>www.triptotheworld.in</span> | <span>+91 72000 87875</span> | <span>soundarraj@triptotheworld.in</span></div><div class="address">13/1, Arni Road, Kosapet, Vellore</div></div></div>
  <div class="yellow-bar"><span>TRIP COSTS</span></div>
  <div class="selected-list">
    <h3>Selected Items</h3>
    ${tableRows}
    <div class="total-row">${totalText}</div>
  </div>
  <div class="footer">Travel far to find yourself ‚Äî TT World
  </div>
</body>
</html>
  `);
  previewWindow.document.close();
}

window.onload = function() { showTrips(); };
</script>   <!-- closes the JS tag only here -->
</body>
</html>
